webpackJsonp([3],{Quw4:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("Dd8w"),r=o.n(n),s=o("NYxO"),a=o("5eyz"),i={data:function(){return{buttonLoading:!1,form:{account:"",password:""},rules:{email:[{required:!0,message:"不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},created:function(){this.$Loading.finish()},methods:r()({},Object(s.b)({login:"admin/login"}),{handleSubmit:function(){var t=this;this.buttonLoading=!0,this.$refs.loginForm.validate(function(e){if(!e)return t.$Message.error("表单验证失败!"),t.buttonLoading=!1,!1;console.log("start"),t.login(t.form).then(function(e){console.log("done"),t.$ls.set("token","user"),t.$Message.success("登录成功！"),t.$router.push("/")}).catch(function(e){console.log("err"),t.$ls.set("token","suc"),t.$Message.error("登录失败！"),t.buttonLoading=!1})})},handleRegister:function(){var t=this;this.buttonLoading=!0,this.$refs.loginForm.validate(function(e){if(!e)return t.$Message.error("表单验证失败!"),t.buttonLoading=!1,!1;console.log("start"),a.a.register(t.form).then(function(e){0==e.data.status?(t.$Message.success("用户名为空或已存在！"),t.form.account=null,t.form.password=null):t.$Message.success("注册成功！"),t.buttonLoading=!1}).catch(function(e){console.log("err"),t.$Message.error("用户名为空或已存在！"),t.buttonLoading=!1})})}})},l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login",on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit(e)}}},[o("div",{staticClass:"login-con"},[o("Card",{attrs:{bordered:!1}},[o("p",{attrs:{slot:"title"},slot:"title"},[o("Icon",{attrs:{type:"log-in"}}),t._v("欢迎登录\n      ")],1),t._v(" "),o("div",{staticClass:"form-con"},[o("Form",{ref:"loginForm",attrs:{model:t.form,rules:t.rules}},[o("FormItem",{attrs:{prop:"account"}},[o("i-input",{attrs:{placeholder:"请输入账号"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}},[o("span",{attrs:{slot:"prepend"},slot:"prepend"},[o("Icon",{attrs:{size:16,type:"person"}})],1)])],1),t._v(" "),o("FormItem",{attrs:{prop:"password"}},[o("i-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}},[o("span",{attrs:{slot:"prepend"},slot:"prepend"},[o("Icon",{attrs:{size:14,type:"locked"}})],1)])],1),t._v(" "),o("FormItem",[o("Button",{attrs:{loading:t.buttonLoading,type:"primary",long:""},on:{click:t.handleSubmit}},[t._v("登录")])],1),t._v(" "),o("FormItem",[o("Button",{attrs:{type:"primary",long:""},on:{click:t.handleRegister}},[t._v("注册")])],1)],1)],1)])],1)])},staticRenderFns:[]};var c=o("VU/8")(i,l,!1,function(t){o("yhjz")},null,null);e.default=c.exports},yhjz:function(t,e){}});
//# sourceMappingURL=3.5fd6ffdebab6c1906751.js.map