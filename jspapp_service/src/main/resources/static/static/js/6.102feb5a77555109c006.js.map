{"version":3,"sources":["webpack:///src/views/admin/adminList.vue","webpack:///./src/views/admin/adminList.vue?0ffc","webpack:///./src/views/admin/adminList.vue"],"names":["admin_adminList","components","data","page","count","current_page","per_page","total","list","columns","title","key","width","align","slot","created","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","_getAdminList","stop","computed","extends_default","Object","vuex_esm","methods","getList","deleteAdmin","destroy","id","_ref","_this2","$Modal","confirm","content","loading","onOk","_callee2","_context2","$Message","success","t0","error","remove","finish","apply","arguments","onCancel","warning","update","$router","push","toPathLink","path","handlePage","currentPage","_this3","_callee3","_ref2","adminList","_context3","admin","sent","items","map","item","username","account","adress","age","views_admin_adminList","render","_vm","_h","$createElement","_c","_self","staticClass","_e","_v","attrs","border","scopedSlots","_u","fn","ref","row","_s","name","staticStyle","margin-right","type","size","on","click","$event","page-size","current","show-total","on-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.102feb5a77555109c006.js","sourcesContent":["<template>\r\n  <section class=\"listMain\">\r\n    <!-- admin.list       v-if=\"user\"-->\r\n    <Button\r\n      v-if=\"false\"\r\n      type=\"primary\"\r\n      @click=\"toPathLink('/admin/create')\"\r\n      icon=\"md-add\"\r\n      style=\"margin-bottom: 16px;\"\r\n    >新增管理员</Button>\r\n    <Table border :columns=\"columns\" :data=\"list\">\r\n      <template slot-scope=\"{ row }\" slot=\"name\">\r\n        <strong>{{ row.name }}</strong>\r\n      </template>\r\n      <template slot-scope=\"{ row }\" slot=\"action\">\r\n        <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"update(row.id)\">编辑</Button>\r\n        <Button type=\"error\" size=\"small\" @click=\"destroy(row.id)\">删除</Button>\r\n      </template>\r\n    </Table>\r\n    <section class=\"page\">\r\n      <Page\r\n        :total=\"page.total\"\r\n        :page-size=\"page.per_page\"\r\n        :current=\"page.current_page\"\r\n        show-total\r\n        @on-change=\"handlePage\"\r\n      ></Page>\r\n    </section>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions, mapMutations } from \"vuex\";\r\nimport list from \"../../api/admin\";\r\nimport admin from \"../../api/admin\";\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      page: {\r\n        count: 0,\r\n        current_page: 1,\r\n        per_page: 10,\r\n        total: 0\r\n      },\r\n      list: [],\r\n      columns: [\r\n        {\r\n          title: \"ID\",\r\n          key: \"id\",\r\n          width: 80,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"学生账号\",\r\n          key: \"account\",\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"学生姓名\",\r\n          key: \"username\",\r\n          align: \"center\"\r\n        },\r\n        // {\r\n        //   title: \"学生密码\",\r\n        //   key: \"password\",\r\n        //   align: \"center\"\r\n        // },\r\n        {\r\n          title: \"学生住址\",\r\n          key: \"adress\",\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"学生年龄\",\r\n          key: \"age\",\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"Action\",\r\n          slot: \"action\",\r\n          width: 150,\r\n          align: \"center\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  async created() {\r\n    this._getAdminList();\r\n  },\r\n  computed: {\r\n    ...mapState([\"admin\"])\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions({\r\n      getList: \"admin/adminList\",\r\n      deleteAdmin: \"admin/deleteAdmin\"\r\n    }),\r\n    ...mapMutations({}),\r\n    // 删除\r\n    destroy(id) {\r\n      var slef = this;\r\n      this.$Modal.confirm({\r\n        title: \"提示\",\r\n        content: \"<p>确定删除此学生吗？</p>\",\r\n        loading: true,\r\n        onOk: async () => {\r\n          try {\r\n            await this.deleteAdmin(id);\r\n            this.$Message.success(\"删除成功\");\r\n            this._getAdminList();\r\n          } catch (e) {\r\n            this.$Message.error(e);\r\n          } finally {\r\n            this.$Modal.remove();\r\n          }\r\n        },\r\n        onCancel: () => {\r\n          this.$Message.warning(\"取消！\");\r\n        }\r\n      });\r\n    },\r\n    update(id) {\r\n      this.$router.push(`/admin/create/${id}`);\r\n    },\r\n    toPathLink(path) {\r\n      this.$router.push(path);\r\n    },\r\n    // 切换分页\r\n    handlePage(page) {\r\n      this.currentPage = page;\r\n      this._getAdminList();\r\n    },\r\n    async _getAdminList() {\r\n      //获取管理员列表\r\n      let { data } = await admin.list(\"root\", this.page.current_page, 10);\r\n      this.page = {\r\n        count: data.total,\r\n        current_page: data.page,\r\n        total: data.total,\r\n        per_page: 10\r\n      };\r\n      let adminList = data.items.map(item => {\r\n        return {\r\n          id: item.id,\r\n          username: item.username,\r\n          account: item.account,\r\n          //   password: item.password,\r\n          adress: item.adress,\r\n          age: item.age\r\n        };\r\n      });\r\n      this.list = adminList;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n  padding: 32px 0;\r\n  text-align: center;\r\n}\r\nh1 {\r\n  font-weight: normal;\r\n}\r\n.listMain {\r\n  min-width: 700px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/admin/adminList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"listMain\"},[(false)?_c('Button',{staticStyle:{\"margin-bottom\":\"16px\"},attrs:{\"type\":\"primary\",\"icon\":\"md-add\"},on:{\"click\":function($event){return _vm.toPathLink('/admin/create')}}},[_vm._v(\"新增管理员\")]):_vm._e(),_vm._v(\" \"),_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.list},scopedSlots:_vm._u([{key:\"name\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('strong',[_vm._v(_vm._s(row.name))])]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.update(row.id)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.destroy(row.id)}}},[_vm._v(\"删除\")])]}}])}),_vm._v(\" \"),_c('section',{staticClass:\"page\"},[_c('Page',{attrs:{\"total\":_vm.page.total,\"page-size\":_vm.page.per_page,\"current\":_vm.page.current_page,\"show-total\":\"\"},on:{\"on-change\":_vm.handlePage}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5024bbb2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/admin/adminList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5024bbb2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./adminList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./adminList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./adminList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5024bbb2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./adminList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5024bbb2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/admin/adminList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}